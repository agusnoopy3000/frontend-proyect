<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ingresar · HuertoHogar</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/css/styles.css">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
<header class="site">
  <div class="container nav">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <a href="index.html">HuertoHogar</a>
    </div>
    <nav class="navbar navbar-expand-lg">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="catalogo.html">Catálogo</a></li>
        <li class="nav-item"><a class="nav-link" href="carrito.html">Carrito</a></li>
        <li class="nav-item"><a class="nav-link" href="pedido.html">Pedido</a></li>
        <li class="nav-item"><a class="nav-link" href="nosotros.html">Nosotros</a></li>
        <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
        <li class="nav-item"><a class="nav-link" href="contacto.html">Contacto</a></li>
        <li class="nav-item"><a class="nav-link" href="login.html">Ingresar</a></li>
        <li class="nav-item"><a class="nav-link" href="registro.html">Registro</a></li>
        <li class="nav-item"><a class="nav-link" href="perfil.html">Perfil</a></li>
      </ul>
    </nav>
  </div>
</header>

<main class="container">
<section class="form">
  <h2>Ingresar</h2>
  <label class="form-label" for="logEmail">Email</label>
  <input id="logEmail" type="email" autocomplete="email" class="form-control">
  <label class="form-label" for="logPass">Contraseña</label>
  <input id="logPass" type="password" autocomplete="current-password" class="form-control" required minlength="4" maxlength="10">
  <button class="btn btn-success" id="btnLogin">Ingresar</button>
  <p id="loginMsg" class="error"></p>
</section>

</main>
<script>
document.getElementById('btnLogin')?.addEventListener('click', function(e) {
  e.preventDefault();
  const email = document.getElementById('logEmail').value.trim();
  const pass = document.getElementById('logPass').value;
  let msg = '';
  if (email.length > 100) msg = 'El email no puede superar 100 caracteres.';
  else if (!(email === 'admin@huertohogar.cl' || /^.+@(duoc\.cl|profesor\.duoc\.cl|gmail\.com)$/.test(email))) msg = 'Solo se permiten correos @duoc.cl, @profesor.duoc.cl, @gmail.com o el correo de administrador.';
  else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) msg = 'Email inválido.';
  else if (!pass) msg = 'Ingrese la contraseña.';
  else if (pass.length < 4 || pass.length > 10) msg = 'La contraseña debe tener entre 4 y 10 caracteres.';
  document.getElementById('loginMsg').textContent = msg;
  if (!msg) {
    // Validación de administrador demo
    if(email === 'admin@huertohogar.cl' && pass === 'admin123') {
      alert('Bienvenido, administrador.');
      window.location.href = 'admin.html';
      return;
    }
    // Validación de usuario normal (puedes personalizar esto)
    alert('Login exitoso');
  }
});
</script>
<footer class="site">
  <div class="container inner">
    <div class="cols">
      <div>
        <strong>HuertoHogar</strong>
        <p>Productos frescos y orgánicos. Calidad local.</p>
      </div>
      <div>
        <p><strong>Tiendas</strong></p>
        <p>Santiago · Puerto Montt · Villarrica · Nacimiento</p>
        <p>Viña del Mar · Valparaíso · Concepción</p>
      </div>
      <div>
        <p><strong>Contacto</strong></p>
        <p>contacto@huertohogar.cl</p>
      </div>
    </div>
    <div>© 2025 HuertoHogar · Sitio educativo</div>
  </div>
</footer>

<script src="assets/js/app.js" defer></script>

    <script>
    document.addEventListener('DOMContentLoaded',()=>{
      const cur = 'login.html';
      document.querySelectorAll('nav a').forEach(a=>{if(a.getAttribute('href').includes(cur)) a.classList.add('active')});
    });
    </script>
    
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
